<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard | Small Business Financials</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Shared Styles -->
  <link rel="stylesheet" href="css/styles.css" />

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
      background: #f5f7fa;
      color: #2c3e50;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }

    nav a {
      margin-left: 10px;
      text-decoration: none;
    }

    .section {
      margin-bottom: 40px;
    }

    button {
      padding: 10px 16px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <!-- AUTH GUARD -->
  <script src="js/auth.js"></script>
  <script>
    requireAuth();
  </script>

  <!-- NAVIGATION -->
  <nav>
    <strong>Small Business Financials</strong>
    <div>
      <a href="dashboard.html">Dashboard</a> |
      <a href="financialreports.html">Financial Reports</a> |
      <a href="#" onclick="logoutUser()">Logout</a>
    </div>
  </nav>

  <!-- DASHBOARD CONTENT -->
  <main>

    <section class="section">
      <h1>Dashboard</h1>
      <p>Welcome! Choose what you want to do.</p>

      <a href="financialreports.html">
        <button>Go to Financial Reports</button>
      </a>
    </section>

  </main>
<div id="upgradeBanner" style="margin-top:20px;display:none;">
  <p>
    Youâ€™re on the <strong>Free</strong> plan.
    Upgrade to unlock Excel uploads and advanced analytics.
  </p>
  <button onclick="upgradeToPro()">Upgrade to Pro</button>
</div>

  <!-- OPTIONAL SCRIPTS -->
  <script src="js/gating.js"></script>
  <script src="js/onboarding.js"></script>
<script>
  function upgradeToPro() {
    const user = getCurrentUser();

    if (!user) {
      alert("No user found. Please log in again.");
      return;
    }

    user.isPro = true;
    localStorage.setItem("sbfa_user", JSON.stringify(user));

    alert("ðŸŽ‰ You are now a Pro user!");
    location.reload();
  }

  // Show upgrade banner if Free
  const currentUser = getCurrentUser();
  if (currentUser && !currentUser.isPro) {
    document.getElementById("upgradeBanner").style.display = "block";
  }
</script>

</body>
</html>

